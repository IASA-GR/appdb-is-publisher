type SiteCloudComputingEndpointLocation {
  """ Endpoint physical location ID (GLUE2LocationID) """
  id: String
  """ Endpoint physical location longtitide (GLUE2LocationLongitude) """
  longitude: Float,
  """ Endpoint physical location latitude (GLUE2LocationLatitude) """
  latitude: Float
  """ Country where the endpoint is located (GLUE2LocationCountry) """
  country: String
  """ Code of country where the endpoint is located GLUE2LocationCountryCode """
  countryCode: String
}

input SiteCloudComputingEndpointLocation_Filter {
  """ Endpoint physical location ID """
  id: String
  """ Endpoint physical location longitude """
  longitude: FilterFloatOperators
  """ Endpoint physical location latitude """
  latitude: FilterFloatOperators
  """ Country of endpoint location """
  country: FilterStringOperators
  """ Country code of endpoint location """
  countrCode: FilterStringOperators
}

"""
Represents a service provided by a Site in the information system
Services may contain one or more VM image references and execution templates.
"""
type SiteCloudComputingEndpoint {
  """ Local Information System Identifier """
  id: ID
  """ Endpoint primary key (GocDB pkey) """
  endpointPKey: String
  """ The endpoint is registered as a production instance (SiteEndpointInProduction@gocdb) """
  isInProduction: Boolean
  """ The endpoint is in beta stage (SiteEndpointBeta@gocdb) """
  beta: Boolean
  """ The gocdb portal URL of the endpoint (SiteEndpointGocPortalUrl@gocdb """
  gocPortalUrl: String
  """ Site service endpoint url as provided by gocdb  (SiteEndpointUrl@goc) """
  gocEndpointUrl: String
  """ Indicates the type of site service. Eg cloud computing etc (SiteEndpointServiceType@local) """
  endpointServiceType: String
  """ Network location of an endpoint,which enables a specific component of the Service to be contacted. (GLUE2EndpointURL or SiteEndpointUrl@gocdb) """
  endpointURL: String
  """ Endpoint's global unique ID (GLUE2EndpointID) """
  endpointID: String
  """ The identification name of the primary protocol supported by the endpoint interface, eg eu.egi.cloud.vm-management.occi, org.openstack.nova etc (GLUE2EndpointInterfaceName) """
  endpointInterfaceName: String
  """ The version of the primary interface protocol (free format). [0..*] (GLUE2EndpointInterfaceVersion) """
  endpointInterfaceVersion: String
  """ The technology used to implement the endpoint interface. [0..1] (GLUE2EndpointTechnology) """
  endpointTechnology: String
  """ The maturity of the endpoint in terms of the quality of the software components which implement it. (GLUE2EndpointQualityLevel) """
  endpointQualityLevel: String
  """ The provided capability according to the OGSA architecture classification. [*] (GLUE2EndpointCapability) """
  endpointCapabilities: [String]
  """ A state specifying whether the endpoint is currently accepting new requests, and whether it is currently servicing requests which have already been accepted.(GLUE2EndpointServingState) """
  endpointServingState: String
  """ A state representing the current health of the Endpoint in terms of its ability to properly deliver the expected functionality. (GLUE2EndpointHealthState) """
  endpointHealthState: String
  """ The name of the main organization implementing this software component (free format, but the chosen names SHOULD be clearly identifiable with the organisation). [0..1] (GLUE2EndpointImplementor) """
  endpointImplementor: String
  """ The name of the implementation (as defined by the Implementor). [0..1] (GLUE2EndpointImplementationName) """
  endpointImplementationName: String
  """ The version of the implementation (the syntax is defined by the Implementor, but MAY be: major.minor.patch). [0..1] (GLUE2EndpointImplementationVersion) """
  endpointImplementationVersion: String
  """ Downtime generic information (GLUE2EndpointDowntimeInfo)"""
  endpointDowntimeInfo: String
  """ Semantics generic information (GLUE2EndpointSemantics)"""
  endpointSemantics: String
  """ Authentication type (GLUE2EndpointAuthentication)"""
  endpointAuthentication: String
  """ Endpoint CA issuer (GLUE2EndpointIssuerCA)"""
  endpointIssuerCA: String
  """ List of trusted CAs (GLUE2EndpointTrustedCA)"""
  endpointTrustedCA: [String]
  """ Physical location of the site hosting the cloud computing endpoint """
  location: SiteCloudComputingEndpointLocation
  """ Entity name (GLUE2EntityName)"""
  entityName: String
  """ Timestamp describing when the entity instance was generated (GLUE2EntityCreationTime) """
  entityCreationTime: String
  """ The duration after CreationTime that the information presented in the Entity SHOULD be considered relevant. After that period has elapsed, the information SHOULD NOT be considered relevant """
  entityValidity: String
  """ Placeholder to publish info that does not fit in any other attribute (GLUE2EntityOtherInfo). Free-form string, comma-separated tags, (name,value) pair are all examples of valid syntax """
  entityOtherInfo: [String]
  """ Raw list of all images the  service endpoint provides (no filtering or paging) """
  imageList: [SiteCloudComputingImage]
  """ Total count of images this service endpoint provides (@local) """
  numberOfImages: Int
  """ Raw list of all templates the service endpoint provides (no filtering or paging) """
  templateList: [SiteCloudComputingTemplate]
  """ Total count of templates this service endpoint provides (@local) """
  numberOfTemplates: Int
  """ Raw list of all managers the service endpoint provides (no filtering or paging) """
  managerList: [SiteCloudComputingManager]
  """ Total count of managers this service endpoint provides (@local) """
  numberOfManagers: Int
  """ Raw list of all shares the service endpoint provides (no filtering or paging) """
  shareList: [SiteCloudComputingShare]
  """ Total count of shares this cloud computing endpoint provides (@local) """
  numberOfShares: Int
  """ Site that the current cloud computing endpoint belongs to """
  site: Site
  """ Cloud computing service of the cloud computing endpoint """
  service: SiteCloudComputingService
  """ Registered downtimes in GocDB system regarding the cloud computing endpoint """
  serviceDowntimes: [SiteServiceDowntime]
  """ Operational status regarding the current cloud computing endpoint as reported by the argo.egi.eu service """
  serviceStatus: SiteServiceStatus
  """ A collection of VM images provided by the cloud computing endpoint """
  images(filter: SiteCloudComputingImage_Filter, limit: Int, skip: Int, sort: [SiteCloudComputingImage_Sort]): SiteCloudComputingImage_Collection
  """ A collection of templates provided by the  computing endpoint """
  templates(filter: SiteCloudComputingTemplate_Filter, limit: Int, skip: Int, sort: [SiteCloudComputingTemplate_Sort]): SiteCloudComputingTemplate_Collection
  """ A collection of shares of the cloud computing endpoint """
  shares(filter: SiteCloudComputingShare_Filter, limit: Int, skip: Int, sort: [SiteCloudComputingShare_Sort]): SiteCloudComputingShare_Collection
  """ A collection of managers of the cloud computing endpoint """
  managers(filter: SiteCloudComputingManager_Filter, limit: Int, skip: Int, sort: [SiteCloudComputingManager_Sort]): SiteCloudComputingManager_Collection
}

""" Filtering by Site Service """
input SiteCloudComputingEndpoint_Filter {
  """ Local Information System Identifier """
  id: FilterStringOperators
  """ Endpoint primary key (GocDB pkey)"""
  endpointPKey: FilterStringOperators
  """ Endpoint in production value """
  isInProduction: Boolean
  """ Endpoint in beta value """
  beta: Boolean
  """ The gocdb portal URL of the endpoint """
  gocPortalUrl: FilterStringOperators
  """ Site cloud computing endpoint url as provided by gocdb """
  gocEndpointUrl: FilterStringOperators
  """ Endpoint service type """
  endpointServiceType: FilterStringOperators
  """ Network location of an endpoint """
  endpointURL: FilterStringOperators
  """ Endpoint's global unique ID """
  endpointID: FilterStringOperators
  """ Endpoint interface primary protocol """
  endpointInterfaceName: FilterStringOperators
  """ Endpoint interface protocol version """
  endpointInterfaceVersion: FilterStringOperators
  """ Technology implementing the endpoint interface """
  endpointTechnology: FilterStringOperators
  """ Quality maturity of the endpoint """
  endpointQualityLevel: FilterStringOperators
  """ Provided OSGA capability """
  endpointCapabilities: FilterStringArrayOperators
  """ Endpoint service state """
  endpointServingState: FilterStringOperators
  """ Endpoint current health state """
  endpointHealthState: FilterStringOperators
  """ Endpoint software implementor name"""
  endpointImplementor: FilterStringOperators
  """ Endpoint software implementation name """
  endpointImplementationName: FilterStringOperators
  """ Endpoint software implementation version """
  endpointImplementationVersion: FilterStringOperators
  """ Downtime generic information"""
  endpointDowntimeInfo: FilterStringOperators
  """ Semantics generic information """
  endpointSemantics: FilterStringOperators
  """ Authentication type"""
  endpointAuthentication: FilterStringOperators
  """ Endpoint CA issuer """
  endpointIssuerCA: FilterStringOperators
  """ List of trusted CAs"""
  endpointTrustedCA: FilterStringArrayOperators
  """ Endpoint physical location  """
  location: SiteCloudComputingEndpointLocation_Filter
  """ Endpoint entity name"""
  entityName: FilterStringOperators
  """ Endpoint entity creation timestamp """
  entityCreationTime: FilterStringOperators
  """ Validity of endpoint entity after its creation  """
  entityValidity: FilterStringOperators
  """ Endpoint entity generic information """
  entityOtherInfo: FilterStringArrayOperators
  """ Filter by the cloud computing endpoint's images values """
  images: SiteCloudComputingImage_Filter
  """ Filter by site cloud endpoint's total image count """
  numberOfImages: FilterIntegerOperators
  """ Filter by site cloud endpoint's templates values """
  templates: SiteCloudComputingTemplate_Filter
  """ Filter by site cloud endpoint's total template count """
  numberOfTemplates: FilterIntegerOperators
  """ Filter by the associated site """
  site: Site_Filter
  """ Filter by the associated site cloud computing service """
  service: SiteCloudComputingService_Filter
  """ Filter by site service statuses (SiteServiceStatus@argo) """
  serviceStatus: SiteServiceStatus_Filter
  """ Filter by site service downtimes (SiteServiceStatus@gocdb) """
  serviceDowntimes: SiteServiceDowntime_Filter
  """ Filter by site cloud computing endpoint shares """
  shares: SiteCloudComputingShare_Filter
  """ Filter by site cloud computing endpoint toal shares count"""
  numberOfShares: FilterIntegerOperators
  """ Filter by site cloud computing endpoint managers """
  managers: SiteCloudComputingManager_Filter
  """ Filter by site cloud computing endpoint total manager count"""
  numberOfManagers: FilterIntegerOperators
  #withDowntimeCount: FilterIntegerOperators
  #withImageCount: FilterIntegerOperators
  #withTemplateCount: FilterIntegerOperators
  #or: [SiteCloudComputingEndpoint_Filter]
  #and: [SiteCloudComputingEndpoint_Filter]
}

enum SiteCloudComputingEndpoint_Sort {
  """ Ascenting order by Local Information System Identifier """
  id_asc

  """ Descenting order by Local Information System Identifier """
  id_desc
}

type SiteCloudComputingEndpoint_Collection {
  totalCount: Int
  count: Int
  limit: Int
  skip: Int
  sort: [SiteCloudComputingEndpoint_Sort]
  items: [SiteCloudComputingEndpoint]
}

extend type Query {
  """ Get a cloud computing endpoint based on the information system ID """
  siteCloudComputingEndpointById(id: ID): SiteCloudComputingEndpoint
  """ Get a cloud computing endpoint based on its GOCDB ID """
  siteCloudComputingEndpointByGocDBPKey(id: String): SiteCloudComputingEndpoint
  """ Get the collection of all available cloud computing endpoints in the information system """
  siteCloudComputingEndpoints(filter: SiteCloudComputingEndpoint_Filter, limit: Int, skip: Int, sort: [SiteCloudComputingEndpoint_Sort]): SiteCloudComputingEndpoint_Collection
}